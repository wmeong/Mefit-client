<template>
  <v-container class="main-container" fluid>
    <!-- 데이터가 없을 경우 -->
    <div v-if="!characterInfo.character_name">
      <h2>닉네임을 입력하세요</h2>
      <div class="search-bar">
        <button class="search-icon" @click="searchAndSaveCharacter">🔎</button>
        <input
          type="text"
          placeholder="검색어를 입력하세요"
          v-model="characterName"
          @keydown.enter="searchAndSaveCharacter"
        />
      </div>
    </div>

    <!-- 데이터가 있을 경우 -->
    <div v-else>
      <!-- 검색창 -->
      <v-row dense class="search-bar-row">
        <v-col cols="12" md="12">
          <div class="search-bar-container">
            <input
              type="text"
              placeholder="닉네임을 입력하세요"
              v-model="characterName"
              class="search-input"
              @keydown.enter="searchAndSaveCharacter"
            />
            <button @click="searchAndSaveCharacter" class="search-button">🔍 검색</button>
          </div>
        </v-col>
      </v-row>
      <!-- 상위 영역 -->
      <v-row class="upper-side" dense>
        <!-- 1번 기본 정보 영역 -->
        <v-col cols="12" md="3">
          <div class="modern-card">
            <h3 class="font-weight-bold">캐릭터 정보</h3>
            <table class="character-info-table">
              <tbody>
                <!-- 레벨 -->
                <tr>
                  <td class="icon-cell">
                    <v-avatar class="level-icon" color="#808080" size="24">
                      <span class="level-text">Lv</span>
                    </v-avatar>
                  </td>
                  <td class="data-cell">
                    <span class="badge">{{ characterInfo.character_level || "레벨" }}</span>
                  </td>
                </tr>
                <!-- 월드 -->
                <tr>
                  <td class="icon-cell">
                    <img
                      v-if="characterInfo.world_name"
                      :src="getWorldIcon(characterInfo.world_name)"
                      alt="world-icon"
                      class="world-icon"
                    />
                  </td>
                  <td class="data-cell">
                    <span class="badge">{{ characterInfo.world_name || "월드명" }}</span>
                  </td>
                </tr>
                <!-- 성별 -->
                <tr>
                  <td class="icon-cell">
                    <v-avatar
                      :color="characterInfo.character_gender === '여' ? '#FFC0CB' : '#87CEEB'"
                      size="24"
                      class="gender-icon"
                    >
                      <v-icon
                        small
                        color="white"
                      >{{ characterInfo.character_gender === '여' ? 'mdi-gender-female' : 'mdi-gender-male' }}</v-icon>
                    </v-avatar>
                  </td>
                  <td class="data-cell">
                    <span class="badge">{{ characterInfo.character_gender || "성별" }}</span>
                  </td>
                </tr>

                <!-- 길드 -->
                <tr>
                  <td class="icon-cell">
                    <v-avatar class="guild-icon" color="#87CEEB" size="24">
                      <span class="guild-text">G</span>
                    </v-avatar>
                  </td>
                  <td class="data-cell">
                    <span class="badge">{{ characterInfo.character_guild_name || "길드명" }}</span>
                  </td>
                </tr>
                <!-- 직업 -->
                <tr>
                  <td class="icon-cell">
                    <img
                      :src="getJobIcon(characterInfo.character_class)"
                      alt="job-icon"
                      class="job-icon"
                    />
                  </td>
                  <td class="data-cell">
                    <span class="badge">{{ characterInfo.character_class || "직업" }}</span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </v-col>

        <!-- 2번 : 캐릭터 이미지 영역 -->
        <v-col cols="12" md="4">
          <div class="character-container">
            <!-- 캐릭터 이미지 -->
            <v-img
              :src="
              characterInfo.character_image || 'https://via.placeholder.com/150'
            "
              alt="Character Image"
              class="character-image"
              :style="{
              transform: `scale(${scale})`,
              transition: 'transform 0.3s ease-in-out',
              'margin-bottom': '40px'
            }"
            ></v-img>
            <!-- 버튼 그룹 -->
            <div class="button-group">
              <!-- 확대/축소 버튼 -->
              <v-btn
                @click="toggleZoom"
                class="modern-btn"
                elevation="2"
                style="width: 40px; padding: 0; min-width: 40px;"
              >
                <v-icon size="20">
                  {{
                  scale === 0.7 ? "mdi-magnify-plus-outline" : "mdi-magnify-minus-outline"
                  }}
                </v-icon>
              </v-btn>
              <!-- 다운로드 버튼 -->
              <v-btn
                @click="downloadImage"
                class="modern-btn"
                elevation="2"
                style="width: 40px; padding: 0; min-width: 40px;"
              >
                <v-icon size="20">mdi-download</v-icon>
              </v-btn>
            </div>
          </div>
        </v-col>

        <!-- 3번: 퍼스널 컬러 영역 -->
        <v-col cols="12" md="5">
          <div class="modern-card">
            <h3 class="font-weight-bold">퍼스널컬러</h3>
            <!-- 퍼스널 컬러 분석 결과 -->
            <div
              :class="[ 'text-center', 'personal-color-result', personalColorGroup ]"
            >{{ personalColorAnalysis }}</div>

            <!-- 메인 컬러 표시 -->
            <v-row class="main-color mb-0 pb-0">
              <v-col cols="3" class="text-left">
                <h4 class="text-left color-label">메인컬러</h4>

              </v-col>
              <v-col cols="9" class="d-flex">
                <v-avatar
                  v-for="(color, index) in characterInfo.main_colors || ['#ccc', '#ddd']"
                  :key="'main-color-' + index"
                  :color="color"
                  size="33"
                  class="mr-2"
                ></v-avatar>
              </v-col>
            </v-row>

            <!-- 서브컬러 표시 -->
            <v-row class="sub-color mt-0 pt-0">
              <v-col cols="3" class="text-left">
                <h4 class="text-left color-label">서브컬러</h4>

              </v-col>
              <v-col cols="9" class="d-flex">
                <v-avatar
                  v-for="(color, index) in characterInfo.sub_colors || ['#eee', '#fff']"
                  :key="'sub-color-' + index"
                  :color="color"
                  size="33"
                  class="mr-2"
                ></v-avatar>
              </v-col>
            </v-row>
          </div>
        </v-col>
      </v-row>
    </div>
    <!-- 4번 : 캐시 장비 정보 영역 -->
    <v-row class="mt-4" dense>
      <v-col
        v-for="item in filteredItems"
        :key="item.type"
        cols="12"
        sm="6"
        md="4"
        class="equipment-item"
      >
        <div class="d-flex align-start">
          <!-- 아이콘 -->
          <div>
            <img :src="item.icon" :alt="item.type" class="equipment-icon" />
          </div>
          <!-- 캐시 장비 정보 -->
          <div class="equipment-details">
            <span class="equipment-name">{{ item.name }}</span>
            <p class="equipment-subdetails" v-if="item.colorRange">
              계열: {{ item.colorRange }}
              <br />
              색:
              {{ item.colorHue }} 채: {{ item.colorSaturation }} 명:
              {{ item.colorValue }}
            </p>
            <p class="equipment-subdetails" v-else-if="item.mixColor">
              {{ item.baseColor }} : {{ item.baseColorRate }}
              <br />
              {{ item.mixColor }} :
              {{ item.mixColorRate }}
            </p>
            <p class="equipment-subdetails" v-else-if="item.colorStyle">
              계열: {{ item.colorStyle }}
              <br />
              색:
              {{ item.skinHue }} 채: {{ item.skinSaturation }} 명:
              {{ item.skinBrightness }}
            </p>
          </div>
        </div>
      </v-col>
    </v-row>
  </v-container>
</template>

<script>
import axios from "axios";
const PERSONAL_COLOR_GROUPS = [
  // 🌸 봄 웜톤 (Spring Warm Tone)
  {
    name: "봄웜 라이트",
    hues: [15, 45],
    saturationRange: [70, 100],
    valueRange: [80, 100]
  },
  {
    name: "봄웜 브라이트",
    hues: [10, 40],
    saturationRange: [80, 100],
    valueRange: [70, 100]
  },
  {
    name: "봄웜 트루",
    hues: [10, 40],
    saturationRange: [60, 90],
    valueRange: [60, 90]
  },

  // ❄️ 여름 쿨톤 (Summer Cool Tone)
  {
    name: "여름쿨 라이트",
    hues: [170, 210],
    saturationRange: [30, 60],
    valueRange: [70, 90]
  },
  {
    name: "여름쿨 브라이트",
    hues: [160, 200],
    saturationRange: [60, 80],
    valueRange: [70, 90]
  },
  {
    name: "여름쿨 뮤트",
    hues: [150, 190],
    saturationRange: [20, 40],
    valueRange: [50, 70]
  },

  // 🍂 가을 웜톤 (Autumn Warm Tone)
  {
    name: "가을웜 뮤트",
    hues: [25, 40],
    saturationRange: [30, 60],
    valueRange: [50, 70]
  },
  {
    name: "가을웜 스트롱",
    hues: [10, 30],
    saturationRange: [50, 80],
    valueRange: [40, 70]
  },
  {
    name: "가을웜 딥",
    hues: [0, 20],
    saturationRange: [50, 80],
    valueRange: [30, 60]
  },

  // 🌌 겨울 쿨톤 (Winter Cool Tone)
  {
    name: "겨울쿨 브라이트",
    hues: [220, 260],
    saturationRange: [60, 100],
    valueRange: [70, 100]
  },
  {
    name: "겨울쿨 스트롱",
    hues: [200, 240],
    saturationRange: [50, 80],
    valueRange: [40, 70]
  },
  {
    name: "겨울쿨 다크",
    hues: [180, 220],
    saturationRange: [30, 60],
    valueRange: [30, 60]
  }
];

export default {
  name: "CharacterInfo",
  data() {
    return {
      scale: 0.7, // 초기 확대 배율
      characterName: "", // 검색어
      characterInfo: {}, // 캐릭터 정보 데이터
      message: "", // 오류 메시지
      characterCashItem: [],
      characterCashFace: [],
      REQUIRED_ITEM_TYPES: [
        { type: "헤어", icon: require("@/assets/hair.png"), name: "" },
        { type: "성형", icon: require("@/assets/face.png"), name: "" },
        { type: "피부", icon: require("@/assets/skin.png"), name: "" },
        { type: "모자", icon: "", name: "" },
        { type: "얼장", icon: "", name: "" },
        { type: "눈장", icon: "", name: "" },
        { type: "귀걸", icon: "", name: "" },
        { type: "상의", icon: "", name: "" },
        { type: "하의", icon: "", name: "" },
        { type: "신발", icon: "", name: "" },
        { type: "장갑", icon: "", name: "" },
        { type: "망토", icon: "", name: "" },
        { type: "무기", icon: "", name: "" }
      ]
    };
  },
  methods: {
    // 월드명 매핑 객체
    getWorldIcon(worldName) {
      const worldNameMap = {
        아케인: "arcane",
        오로라: "aurora",
        베라: "bera",
        크로아: "croa",
        엘리시움: "elysium",
        에노시스: "enosis",
        에오스: "eos",
        헬리오스: "helios",
        루나: "luna",
        노바: "nova",
        레드: "red",
        스카니아: "scania",
        유니온: "union",
        제니스: "zenith"
      };
      const fileName = worldNameMap[worldName] || "default";
      return require(`@/assets/world/${fileName}.png`);
    },
    /**
     * 캐릭터 이미지를 확대/축소하는 메서드
     */
    /**
     * 확대/축소 토글
     */
    toggleZoom() {
      this.scale = this.scale === 1.0 ? 0.7 : 1.0;
    },
    async downloadImage() {
      try {
        const response = await fetch(this.characterInfo.character_image);
        const blob = await response.blob();
        const link = document.createElement("a");
        link.href = URL.createObjectURL(blob);
        link.download = "character_image.png"; // 다운로드 파일 이름
        link.click();
        URL.revokeObjectURL(link.href); // 메모리 해제
      } catch (error) {
        console.error("이미지 다운로드 중 오류가 발생했습니다:", error);
      }
    },
    /**
     * 캐릭터 정보를 API에서 검색 및 저장
     */
    async searchAndSaveCharacter() {
      if (!this.characterName) return; // 캐릭터 이름이 없으면 중단
      try {
        const ocidResponse = await axios.get(
          `http://localhost:8081/api/characters/ocid`,
          { params: { name: this.characterName } }
        );
        this.characterInfo = ocidResponse.data.characterInfoDTO;
        console.log("Character Image URL:", this.characterInfo.character_image);
        console.log(
          "1,2,3위 : " +
            this.characterInfo.main_colors +
            " 4,5,6위 : " +
            this.characterInfo.sub_colors
        );
        console.log("성별" + this.characterInfo.character_gender);
        this.characterCashItem = ocidResponse.data.searchedCashItemDTOS;
        this.characterCashFace = ocidResponse.data.searchedCashFaceDTOS;
        console.log("item", this.characterCashItem);
        console.log("face", this.characterCashFace);
        this.message = "";
      } catch (error) {
        console.error("캐릭터 정보를 불러오는 중 오류가 발생했습니다:", error);
        this.message = "캐릭터 정보를 불러오는 중 오류가 발생했습니다.";
      }
    },
    getJobIcon(jobName) {
      try {
        return require(`@/assets/job/${jobName}.png`);
      } catch (e) {
        return null;
      }
    },
    hexToRgb(hex) {
      const bigint = parseInt(hex.slice(1), 16);
      const r = (bigint >> 16) & 255;
      const g = (bigint >> 8) & 255;
      const b = bigint & 255;
      return [r, g, b];
    },
    rgbToHsv(r, g, b) {
      (r /= 255), (g /= 255), (b /= 255);
      const max = Math.max(r, g, b),
        min = Math.min(r, g, b);
      let h,
        s,
        v = max;

      const d = max - min;
      s = max === 0 ? 0 : d / max;

      if (max === min) {
        h = 0; // achromatic
      } else {
        switch (max) {
          case r:
            h = (g - b) / d + (g < b ? 6 : 0);
            break;
          case g:
            h = (b - r) / d + 2;
            break;
          case b:
            h = (r - g) / d + 4;
            break;
        }
        h /= 6;
      }

      return {
        h: Math.round(h * 360),
        s: Math.round(s * 100),
        v: Math.round(v * 100)
      };
    },
    matchPersonalColor(hue, saturation, value) {
      let closestMatch = "Unknown";
      let closestDistance = Infinity;

      for (const group of PERSONAL_COLOR_GROUPS) {
        const [minHue, maxHue] = group.hues;
        const [minSaturation, maxSaturation] = group.saturationRange;
        const [minValue, maxValue] = group.valueRange;

        // Calculate the center point of each range
        const avgHue = (minHue + maxHue) / 2;
        const avgSaturation = (minSaturation + maxSaturation) / 2;
        const avgValue = (minValue + maxValue) / 2;

        // Calculate the distance between the input color and the center point
        const distance = Math.sqrt(
          Math.pow(hue - avgHue, 2) +
            Math.pow(saturation - avgSaturation, 2) +
            Math.pow(value - avgValue, 2)
        );

        // Find the closest match
        if (distance < closestDistance) {
          closestDistance = distance;
          closestMatch = group.name;
        }
      }

      return closestMatch;
    }
  },
  created() {
    // 라우터의 쿼리에서 캐릭터 이름 가져오기
    this.characterName = this.$route.query.q || "";
    if (this.characterName) {
      // 캐릭터 이름이 있을 경우 API 호출
      this.searchAndSaveCharacter();
    }
  },
  computed: {
    filteredItems() {
      return this.REQUIRED_ITEM_TYPES.map(requiredItemType => {
        const cashItemData = this.characterCashItem.find(
          itemData => itemData.item_type === requiredItemType.type
        );

        const cashFaceData = this.characterCashFace.find(
          itemData => itemData.item_type === requiredItemType.type
        );

        // 아이템 데이터가 있으면 세부 정보를 추가
        if (cashItemData && cashItemData.item_name) {
          return {
            type: requiredItemType.type,
            icon: cashItemData.item_icon || "https://via.placeholder.com/50",
            name: cashItemData.item_name,
            colorRange: cashItemData.color_range || null, // null로 유지
            colorHue: cashItemData.color_hue || 0,
            colorSaturation: cashItemData.color_saturation || 0,
            colorValue: cashItemData.color_value || 0
          };
        }

        if (cashFaceData && cashFaceData.item_name) {
          return {
            type: requiredItemType.type,
            icon: requiredItemType.icon,
            name: cashFaceData.item_name,
            baseColor: cashFaceData.base_color,
            baseColorRate: 100 - cashFaceData.mix_rate + "%",
            mixColor: cashFaceData.mix_color,
            mixColorRate: cashFaceData.mix_rate + "%",
            colorStyle: cashFaceData.color_style || null, // null로 유지
            skinHue: cashFaceData.skin_hue || 0,
            skinSaturation: cashFaceData.skin_saturation || 0,
            skinBrightness: cashFaceData.skin_brightness || 0
          };
        }

        // 기본값 반환
        if (requiredItemType.name) {
          return {
            type: requiredItemType.type,
            icon: requiredItemType.icon || "https://via.placeholder.com/50",
            name: requiredItemType.name
          };
        }

        return null; // 아이템이 없으면 null
      }).filter(item => item !== null);
    },
    personalColorAnalysis() {
      if (
        !this.characterInfo.main_colors ||
        this.characterInfo.main_colors.length === 0
      ) {
        return "Unknown";
      }

      // 가중치 설정
      const weights = [0.25, 0.2, 0.15, 0.15, 0.15, 0.05];

      let totalH = 0,
        totalS = 0,
        totalV = 0;
      let totalWeight = 0;

      // 1위부터 6위까지 순회하면서 HSV 값 계산
      const colors = [
        ...(this.characterInfo.main_colors || []),
        ...(this.characterInfo.sub_colors || [])
      ];
      colors.forEach((color, index) => {
        if (index >= weights.length) return; // 최대 6개까지만 처리

        const [r, g, b] = this.hexToRgb(color);
        const { h, s, v } = this.rgbToHsv(r, g, b);

        const weight = weights[index];
        totalH += h * weight;
        totalS += s * weight;
        totalV += v * weight;
        totalWeight += weight;
      });

      // 최종 평균 HSV 계산
      const avgH = Math.round(totalH / totalWeight);
      const avgS = Math.round(totalS / totalWeight);
      const avgV = Math.round(totalV / totalWeight);

      return this.matchPersonalColor(avgH, avgS, avgV);
    },

    //css와 매핑
    personalColorGroup() {
      const group = PERSONAL_COLOR_GROUPS.find(colorGroup =>
        this.personalColorAnalysis.includes(colorGroup.name)
      );
      if (!group) return "";
      // 한글 name을 영어로 변환하여 CSS 클래스 이름으로 사용
      if (group.name.includes("봄웜")) return "Spring";
      if (group.name.includes("여름쿨")) return "Summer";
      if (group.name.includes("가을웜")) return "Autumn";
      if (group.name.includes("겨울쿨")) return "Winter";
      return "";
    }
  }
};
</script>

<style scoped>
.main-container {
  max-width: 800px;
  margin: 0 auto;
  padding: 0 16px; /* 양쪽 패딩 설정 */
}

.character-container {
  position: relative;
  height: 230px;
  margin: 0 auto;
  border-radius: 8px;
  background-color: #fff;
  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  /* overflow: hidden; */ /* 히든버튼 */
}
.character-image {
  height: 200px; /* 이미지 최대 높이 */
  width: auto;
  display: block;
  margin: 0 auto; /* 이미지 가운데 정렬 */
}

/*1,2,3, 일렬로 */
.character-info {
  text-align: left;
  padding-left: 5px;
  margin-top: 20px;
}

.equipment-item {
  display: flex;
  align-items: center;
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 12px;
  background-color: #ffffff;
  box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
  min-height: 100px;
  transition: border 0.3s ease, box-shadow 0.3s ease;
}
.equipment-item:hover {
  border: 1px solid #ff88aa;
  box-shadow: 0px 4px 10px rgba(255, 136, 170, 0.3);
}
.equipment-icon {
  flex-shrink: 0;
  width: 50px;
  height: 50px;
  margin-right: 12px;
  object-fit: contain;
  border: 2px solid #f0f0f0;
  border-radius: 8px;
  padding: 6px;
  background-color: #f9f9f9;
}
.equipment-details {
  flex-grow: 1;
  text-align: left;
  line-height: 1.5;
}
.equipment-name {
  font-weight: bold;
  font-size: 14px;
  margin-bottom: 5px;
}
.equipment-subdetails {
  font-size: 12px;
  color: #666;
  line-height: 1.4;
}


.button-row {
  margin-top: 16px; /* 버튼과 이미지 간격 */
  display: flex;
  justify-content: center; /* 버튼을 가운데 정렬 */
  gap: 16px; /* 버튼 간격 */
}
.button-row v-btn {
  box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1); /* 버튼 그림자 */
}
.zoom-button-container {
  margin-top: 55px; /* 이미지와 버튼 사이 간격을 더 넓게 */
  text-align: center;
}
.button-group {
  position: absolute;
  bottom: 16px; /* 컨테이너 하단에서 여백 */
  right: 16px; /* 컨테이너 오른쪽에서 여백 */
  display: flex;
  gap: 8px; /* 버튼 간 간격 */
  z-index: 10; /* 이미지 위에 위치 */
}
.button-group v-btn {
  width: 40px; /* 버튼 크기 */
  height: 40px;
  border-radius: 50%; /* 원형 버튼 */
  box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
}

.search-bar {
  display: flex;
  align-items: center;
  border: 2px solid #ffccff;
  border-radius: 20px;
  padding: 8px 12px;
  width: 300px;
  margin: 0 auto;
  box-shadow: 0 0 8px #ffccff;
  transition: box-shadow 0.3s ease;
  background-color: #fff5ff;
}

.search-bar input {
  border: none;
  outline: none;
  font-size: 14px;
  flex: 1;
  background: none;
}

.search-bar input::placeholder {
  color: #ff88aa;
}

.badge {
  display: inline-block;
  padding: 0px 8px; /* 텍스트 주변 여백 */
  border: 1px solid #ccc; /* 테두리 색상 */
  border-radius: 12px; /* 둥근 테두리 */
  background-color: #f5f5f5; /* 배경색 */
  font-size: 0.875rem; /* 글씨 크기 */
  font-weight: 500; /* 글씨 굵기 */
  color: #333; /* 텍스트 색상 */
  margin-right: 8px; /* 요소 간 간격 */
}
.character-info-table {
  margin-top: 10px;
  margin-left: 8px;
  border-spacing: 0 8px; /* 위아래 갭 추가 */
  border-collapse: separate; /* 셀 간격 유지 */
}

.icon-cell {
  display: flex;
  justify-content: center; /* 가로 정렬 */
  align-items: center; /* 세로 정렬 */
  height: 100%; /* 부모 높이에 맞춤 */
}

.data-cell {
  text-align: left;
  vertical-align: middle;
  padding-left: 13px; /* 데이터 셀 왼쪽 패딩 */
}

.gender-icon,
.guild-icon,
.job-icon {
  width: 20px; /* 아이콘 크기 */
  height: 20px;
}
.world-icon {
  width: 27px;
  height: 27px;
}

.level-icon,
.guild-icon,
.job-icon {
  width: 24px;
  height: 24px;
}

.level-text,
.guild-text {
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
  color: white;
}

.gender-icon {
  width: 20px;
  height: 20px;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 14px; /* 아이콘 크기 */
  font-weight: bold;
  line-height: 1;
}


.world-guild {
  margin-top: 8px; /* 레벨/성별과 간격 */
}

.job-image {
  width: 80px; /* 직업 이미지 크기 */
  height: 80px;
  border-radius: 8px;
  margin-bottom: 8px; /* 직업 이름과 간격 */
}

.job-badge {
  font-size: 1rem;
  font-weight: bold;
  color: #333;
  background-color: #f5f5f5;
  padding: 4px 8px;
  border-radius: 12px;
}

/* 검색창*/
.search-bar-container {
  display: flex;
  justify-content: center; /* 가운데 정렬 */
  align-items: center;
  width: 100%; /* 전체 길이 */
  padding: 12px 16px; /* 여백 추가 */
  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1); /* 부드러운 그림자 */
  background-color: #ffffff; /* 배경색 */
  border-radius: 8px; /* 둥근 모서리 */
  margin-bottom: 16px; /* 아래 컨텐츠와 간격 */
}

.search-input {
  flex: 1; /* 검색창 너비를 버튼과 함께 조정 */
  padding: 8px 12px;
  border: 1px solid #ccc;
  border-radius: 8px;
  outline: none;
  margin-right: 8px;
}

.search-button {
  background-color: #d96dcb;
  color: white;
  border: none;
  border-radius: 8px;
  padding: 8px 16px;

  cursor: pointer;
  transition: background-color 0.3s ease;
}

.search-button:hover {
  background-color: #e58cda;
}



/*퍼스널컬러*/
.modern-card {
  height: 230px;
  background-color: #ffffff;
  color: #2c3e50;
  border-radius: 8px;
  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  align-items: center;
}



/*퍼스널컬러 결과 */
.personal-color-result {
  width: 100%;
  font-size: 16px;
  font-weight: bold;
  text-transform: uppercase;
  padding: 4px 8px; /* 패딩 조정 */
  text-align: center;
  margin-top: 8px;
}
.personal-color-result.Spring {
  background-color: #fbe7c6;
  color: #8d5524;
}
.personal-color-result.Summer {
  background-color: #e6f7ff;
  color: #007acc;
}
.personal-color-result.Autumn {
  background-color: #fdecc8;
  color: #a64b2a;
}
.personal-color-result.Winter {
  background-color: #f0f4f7;
  color: #3a4e80;
}

.main-color {
  margin-top: 10px;
  margin-bottom: 0 !important; /* 하단 마진 제거 */
  padding-bottom: 0 !important; /* 하단 패딩 제거 */
}
.sub-color {
  margin-top: 0 !important; /* 하단 마진 제거 */
  padding-top: 0 !important; /* 하단 패딩 제거 */
}

.color-label {
  background-color: #f5f5f5; /* 회색 배경 */
  padding: 1px 2px;
  border-radius: 12px; 
  font-weight: bold; 
  color: #333; 
}

</style>
